## Битва Измерений

Это карточная настольная игра для 3-5 игроков. В ней 5 мастей, каждый игрок играет за свою, собирает карты в разных зонах, спомощью разных механик карты перемещаются, и удаляются с поля. Побеждает тот, у кого будет больше своих карт на последнем ходе.

Более подробные правила в документе ["Битва Измерений - правила"](Битва Измерений - правила.pdf)

Входе разработки игры встал вопрос баланса игры. По хорошему - нужно было создать пробные наборы игры(сверстать, распечатать), собрать фокус группу (любителей настолок, человек 5-10), дать им поиграть 10+ партий в своих компаниях, собрать от них статистику, обработать результаты по всем партий, внести правки в механику игры чтобы выровнять баланс, повторить все действия.

Это все конечно очень затратно и долго. Я как программист, решил посчитать баланс с помощью Python. Скрипты с кодом в папке. Расчеты ниже.

## Баланс игры

##### Baseline

Если предположить, что колода тасуется правильно, то есть тасуется через 7 каскадных тасований, дающих абсолютно случайное равновероятное расположение всех карт в колоде,

игра проходит по Базовым правилам,

и, что играют условные «обезьяны», то есть принимаемые решения в ходе игры абсолютно случайны (равновероятны),

тогда, математическое ожидание победы за определенную Фракцию будет:

|            | 5 игроков | 4 игрока | 3 игрока |
| ---------- |:---------:|:--------:|:--------:|
| Красный    |    20%    |   25%    |  33.33%  |
| Зелёный    |    20%    |   25%    |  33.33%  |
| Жёлтый     |    20%    |   25%    |  33.33%  |
| Синий      |    20%    |   25%    |  33.33%  |
| Фиолетовый |    20%    |   25%    |  33.33%  |


Вероятность победы за определенную Фракцию, на 1 млн. симуляций будет:

|            | 5 игроков | 4 игрока | 3 игрока |
| ---------- |:---------:|:--------:|:--------:|
| Красный    |  20.03%   |  24.96%  |  33.32%  |
| Зелёный    |  20.03%   |  25.08%  |  33.29%  |
| Жёлтый     |  19.95%   |  24.97%  |  33.31%  |
| Синий      |  19.97%   |  25.02%  |  33.39%  |
| Фиолетовый |  20.01%   |  24.97%  |  33.36%  |

$$ $$

##### Epic mode

Если предположить, что колода тасуется правильно, то есть тасуется через 7 каскадных тасований, дающих абсолютно случайное равновероятное расположение всех карт в колоде,

игра проходит в Эпическом режиме (у каждой Фракции есть свои уникальные механики), такие как:
- Красный  —  +1 карта, неуязвимая к Чёрной Дыре, не переносится Кротовой Норой, двигать может только владелец.
- Зелёный — если в любом одном Измерении количество зелёных карт `>= 5` → немедленная победа зелёного
- Жёлтый — если во всех Измерениях будет минимум по 1 жёлтой в каждом и суммарно `>= 5` жёлтых по всем Измерениям → немедленная победа жёлтого
- Синий — если в любом Измерении существует синий отряд, у которого сумма значений карт `= 42`, → немедленная победа синего
- Фиолетовый — трансформация поверженных карт в Ауры Тьмы; фиолетовый не бьёт Ауры; Ауры не перемещаются; в конце игры Ауры добавляются к фиолетовым.

и, что играют условные «обезьяны», то есть принимаемые решения в ходе игры абсолютно случайны (равновероятны),

то вероятность победы за определенную Фракцию, на 1 млн. симуляций будет:

|            | 5 игроков | 4 игрока | 3 игрока |
| ---------- | --------- | -------- | -------- |
| Красный    | 11.88%    | 17.49%   | 26.39%   |
| Зелёный    | 8.98%     | 11.93%   | 18.54%   |
| Жёлтый     | 10.38%    | 19.44%   | 35.98%   |
| Синий      | 56.34%    | 59.06%   | 60.42%   |
| Фиолетовый | 12.42%    | 17.03%   | 25.38%   |

$$ $$

##### Epic Tactics

Если предположить, что колода тасуется правильно, то есть тасуется через 7 каскадных тасований, дающих абсолютно случайное равновероятное расположение всех карт в колоде,

игра проходит в Эпическом режиме (у каждой Фракции есть свои уникальные механики), такие как:
- Красный  —  +1 карта, неуязвимая к Чёрной Дыре, не переносится Кротовой Норой, двигать может только владелец.
- Зелёный — если в любом одном Измерении количество зелёных карт `>= 5` → немедленная победа зелёного
- Жёлтый — если во всех Измерениях будет минимум по 1 жёлтой в каждом и суммарно `>= 5` жёлтых по всем Измерениям → немедленная победа жёлтого
- Синий — если в любом Измерении существует синий отряд, у которого сумма значений карт `= 42`, → немедленная победа синего
- Фиолетовый — трансформация поверженных карт в Ауры Тьмы; фиолетовый не бьёт Ауры; Ауры не перемещаются; в конце игры Ауры добавляются к фиолетовым.

и, что играют условные «алгоритмы», то есть принимаемые решения исходят из  тактических рациональных установок (стремление к победе), таких как:
- не бить по своим (если есть такая возможность)
- бить по самой многочисленной Фракции в момент хода (кроме себя), учитывая что Ауры Тьмы прибавляются к Фиолетовым
- Фракции с условием досрочной победы (Зеленый, Желтый, Синий), пытаются достичь этих условий
- следить за Фракциями с условием досрочной победы (Зеленый, Желтый, Синий), препятствовать достижению их условиям досрочной победы

то вероятность победы за определенную Фракцию, на 1 млн. симуляций будет:

|            | 5 игроков | 4 игрока | 3 игрока |
| ---------- | --------- | -------- | -------- |
| Красный    | 5.54%     | 13.90%   | 32.06%   |
| Зелёный    | 17.40%    | 16.32%   | 23.50%   |
| Жёлтый     | 19.29%    | 21.69%   | 24.27%   |
| Синий      | 22.13%    | 22.13%   | 27.04%   |
| Фиолетовый | 35.65%    | 50.93%   | 59.77%   |